{
  "groups": [
    {
      "name": "Linux Infrastructure",
      "defaultUser": "sysadmin",
      "defaultPort": 22,
      "defaultIdentityFile": "~/.ssh/linux_key",
      "snippets": [
        {
          "name": "System Health Check",
          "command": "uptime && df -h && free -m && iostat 1 1"
        },
        {
          "name": "Check Running Services",
          "command": "systemctl list-units --type=service --state=running"
        },
        {
          "name": "Network Status",
          "command": "ss -tuln && ip route"
        },
        {
          "name": "Update System",
          "command": "sudo apt update && sudo apt list --upgradable"
        },
        {
          "name": "Security Scan",
          "command": "last -10 && who && sudo fail2ban-client status"
        }
      ],
      "groups": [
        {
          "name": "Web Servers",
          "snippets": [
            {
              "name": "Check Web Services",
              "command": "systemctl status nginx apache2 2>/dev/null | grep -E 'Active:|Main PID:'"
            },
            {
              "name": "Web Server Logs",
              "command": "sudo tail -20 /var/log/nginx/error.log /var/log/apache2/error.log 2>/dev/null"
            },
            {
              "name": "Check SSL Certificates",
              "command": "sudo find /etc/ssl /etc/nginx /etc/apache2 -name '*.crt' -exec openssl x509 -in {} -noout -dates -subject \\; 2>/dev/null"
            }
          ],
          "hosts": [
            {
              "name": "Web Server 1",
              "hostName": "web1.example.com",
              "snippets": [
                {
                  "name": "Check Nginx Config",
                  "command": "sudo nginx -t"
                },
                {
                  "name": "Reload Nginx",
                  "command": "sudo systemctl reload nginx"
                }
              ]
            },
            {
              "name": "Web Server 2", 
              "hostName": "web2.example.com",
              "snippets": [
                {
                  "name": "Check Apache Config",
                  "command": "sudo apache2ctl configtest"
                },
                {
                  "name": "Reload Apache",
                  "command": "sudo systemctl reload apache2"
                }
              ]
            }
          ]
        },
        {
          "name": "Database Servers",
          "defaultUser": "dbadmin",
          "snippets": [
            {
              "name": "Database Status",
              "command": "systemctl status mysql postgresql redis-server 2>/dev/null | grep -E 'Active:|Main PID:'"
            },
            {
              "name": "Database Processes",
              "command": "ps aux | grep -E 'mysql|postgres|redis' | grep -v grep"
            },
            {
              "name": "Check Database Connections",
              "command": "ss -tuln | grep -E ':3306|:5432|:6379'"
            }
          ],
          "hosts": [
            {
              "name": "MySQL Server",
              "hostName": "mysql.example.com",
              "snippets": [
                {
                  "name": "MySQL Status",
                  "command": "mysql -e 'SHOW PROCESSLIST; SHOW STATUS LIKE \"Connections\";'"
                },
                {
                  "name": "MySQL Slow Queries",
                  "command": "sudo tail -20 /var/log/mysql/slow.log"
                }
              ]
            },
            {
              "name": "PostgreSQL Server",
              "hostName": "postgres.example.com", 
              "snippets": [
                {
                  "name": "PostgreSQL Connections",
                  "command": "sudo -u postgres psql -c 'SELECT * FROM pg_stat_activity;'"
                },
                {
                  "name": "PostgreSQL Logs",
                  "command": "sudo tail -20 /var/log/postgresql/postgresql-*.log"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}